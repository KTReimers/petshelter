(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),a=n(19),i=n.n(a),l=(n(26),n(27),n(2)),j=n(4),o=n(5),d=n.n(o),h=(n(52),function(e){var t=Object(s.useState)(null),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(!1),o=Object(j.a)(i,2);o[0],o[1];Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets").then((function(e){e.data.Pets.sort((function(e,t){var n=e.petType.toLowerCase(),c=t.petType.toLowerCase();return n<c?-1:n>c?1:0})),a(e.data.Pets)}))}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{style:{color:"steelblue"},children:"These are all the pets"}),Object(c.jsxs)("table",{className:"table table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Type"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:r?r.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.petName}),Object(c.jsx)("td",{children:e.petType}),Object(c.jsxs)("td",{children:[Object(c.jsx)(l.a,{to:"/pets/".concat(e._id),children:"details"})," | ",Object(c.jsx)(l.a,{to:"/pets/update/".concat(e._id),children:"edit"})]})]},t)})):""})]})]})}),b=n(6),p=n(8),O=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:e.onSubmitHandler,children:[Object(c.jsxs)("div",{className:"input",children:[Object(c.jsxs)("h3",{children:["Pet Name: ",Object(c.jsx)("input",{type:"text",name:"petName",onChange:e.onChangeHandler,value:e.form.petName})]}),e.error.petName?Object(c.jsx)("span",{style:{color:"red"},children:e.error.petName.message}):""]}),Object(c.jsxs)("div",{className:"input",children:[Object(c.jsxs)("h3",{children:["Pet Type: ",Object(c.jsx)("input",{type:"text",name:"petType",onChange:e.onChangeHandler,value:e.form.petType})]}),e.error.petType?Object(c.jsx)("span",{style:{color:"red"},children:e.error.petType.message}):""]}),Object(c.jsxs)("div",{className:"input",children:[Object(c.jsxs)("h3",{children:["Description: ",Object(c.jsx)("input",{type:"text",name:"description",onChange:e.onChangeHandler,value:e.form.description})]}),e.error.description?Object(c.jsx)("span",{style:{color:"red"},children:e.error.description.message}):""]}),Object(c.jsx)("div",{children:Object(c.jsxs)("h3",{children:["Skill 1: ",Object(c.jsx)("input",{type:"text",name:"skill1",value:e.form.skill1,onChange:e.onChangeHandler})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h3",{children:["Skill 2: ",Object(c.jsx)("input",{type:"text",name:"skill2",value:e.form.skill2,onChange:e.onChangeHandler})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h3",{children:["Skill 3: ",Object(c.jsx)("input",{type:"text",name:"skill3",value:e.form.skill3,onChange:e.onChangeHandler})]})}),Object(c.jsx)("input",{type:"submit",value:"submit"})]})})},u=function(e){var t=Object(s.useState)({petName:"",petType:"",description:"",skills:{skill1:"",skill2:"",skill3:""}}),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)({}),o=Object(j.a)(i,2),h=o[0],u=o[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Know a pet needing a home?"}),Object(c.jsx)(O,{form:r,onChangeHandler:function(e){a(Object(p.a)(Object(p.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},onSubmitHandler:function(e){e.preventDefault(),d.a.post("http://localhost:8000/api/pets/new",r).then((function(e){e.data.error?u(e.data.error.errors):Object(l.c)("/")})).catch(console.log("error occured while adding a pet"))},error:h})]})},x=function(e){var t=Object(s.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),o=Object(j.a)(i,2),h=o[0],b=o[1];Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets/".concat(e._id)).then((function(e){return b(e.data.onePet)}))}),[h]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Pets Info"}),h?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:h.petName}),Object(c.jsxs)("h3",{children:["Pet Type: ",h.petType]}),Object(c.jsxs)("h3",{children:["About: ",h.description]}),Object(c.jsx)("h3",{children:"Skills:"}),Object(c.jsx)("p",{children:h.skill1}),Object(c.jsx)("p",{children:h.skill2}),Object(c.jsx)("p",{children:h.skill3}),Object(c.jsx)(l.a,{to:"/pets/update/".concat(h._id),children:Object(c.jsx)("button",{children:"Edit"})}),Object(c.jsxs)("button",{onClick:function(){return e=h._id,void d.a.delete("http://localhost:8000/api/pets/delete/".concat(e)).then((function(e){return a(!r)}),Object(l.c)("/"));var e},children:["Adopt ",h.petName,"!"]})]}):""]})},m=function(e){var t=Object(s.useState)({petName:"",petType:"",description:"",skills:{skill1:"",skill2:"",skill3:""}}),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)({}),o=Object(j.a)(i,2),h=o[0],u=o[1];Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets/".concat(e._id)).then((function(e){return a(e.data.onePet)}))}),[e]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Update Pet info"}),Object(c.jsx)(O,{form:r,onChangeHandler:function(e){a(Object(p.a)(Object(p.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},onSubmitHandler:function(t){t.preventDefault(),d.a.put("http://localhost:8000/api/pets/update/".concat(e._id),r).then((function(e){e.data.error?u(e.data.error.errors):Object(l.c)("/")})).catch(console.log("error occured while adding a pet"))},error:h})]})};var f=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"Pet Shelter"}),Object(c.jsx)(l.a,{to:"/pets/new",children:"Add a pet to the shelter"})," | ",Object(c.jsx)(l.a,{to:"/",children:"Back to Home"})]}),Object(c.jsxs)(l.b,{children:[Object(c.jsx)(h,{path:"/"}),Object(c.jsx)(u,{path:"/pets/new"}),Object(c.jsx)(x,{path:"/pets/:_id"}),Object(c.jsx)(m,{path:"/pets/update/:_id"})]})]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),g()}},[[53,1,2]]]);
//# sourceMappingURL=main.239b1500.chunk.js.map